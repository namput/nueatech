import{j as e,L as p,r as i}from"./index-CHha_AOZ.js";import{G as b,S as u}from"./GlassCard-DKvpUN6Y.js";import{C as v,P as j}from"./posts-DL-exU4F.js";import{T as y}from"./tag-DE-Y8NjF.js";import{S as C,F as S}from"./search-omEibCrD.js";function T(t){return new Date(t).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})}function L({p:t}){return e.jsxs(b,{className:"overflow-hidden",children:[t.cover&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.cover,alt:t.title,className:"h-48 w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-90",children:[e.jsx("span",{className:"rounded-full border border-white/10 bg-white/5 px-2 py-0.5",children:t.category}),e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(v,{className:"h-3.5 w-3.5"})," ",T(t.date)]})]}),e.jsx("h3",{className:"mt-2 text-lg font-semibold leading-snug",children:e.jsx(p,{to:`/blog/${t.slug}`,children:t.title})}),e.jsx("p",{className:"mt-1 text-neutral-300 text-sm",children:t.excerpt}),t.tags&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2 text-xs",children:t.tags.map(r=>e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-0.5",children:[e.jsx(y,{className:"h-3.5 w-3.5"})," ",r]},r))}),e.jsx("div",{className:"mt-3 text-right",children:e.jsx(p,{to:`/blog/${t.slug}`,className:"text-sm underline underline-offset-4 opacity-90 hover:opacity-100",children:"อ่านต่อ →"})})]})]})}const M=["All",...Array.from(new Set(j.map(t=>t.category)))];function B(){const[t,r]=i.useState(""),[n,f]=i.useState("All"),[l,c]=i.useState(1),o=6,x=i.useMemo(()=>j.filter(s=>s.published!==!1),[]),h=i.useMemo(()=>{const s=t.trim().toLowerCase();return x.filter(a=>{const m=n==="All"||a.category===n,w=!s||a.title.toLowerCase().includes(s)||a.excerpt.toLowerCase().includes(s)||(a.tags||[]).some(N=>N.toLowerCase().includes(s));return m&&w}).sort((a,m)=>new Date(m.date).getTime()-new Date(a.date).getTime())},[x,t,n]),d=Math.max(1,Math.ceil(h.length/o)),g=h.slice((l-1)*o,l*o);return e.jsxs("div",{className:"relative",children:[e.jsx(u,{aurora:!0,angleBottom:!0,className:"pt-16 pb-10",children:e.jsxs("div",{className:"grid items-center gap-8 md:grid-cols-[1.15fr_.85fr]",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs",children:"บล็อก"}),e.jsx("h1",{className:"mt-4 text-4xl font-semibold leading-tight md:text-6xl",children:"เล่าเทคโนโลยีแบบใช้ได้จริง"}),e.jsx("p",{className:"mt-3 max-w-2xl text-lg text-neutral-300",children:"แชร์บทความจากประสบการณ์จริง—เว็บ, โมบาย, ระบบองค์กร, Performance, Security และการสร้างแพลตฟอร์มที่โตได้"})]}),e.jsx(b,{className:"p-6",children:e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("input",{value:t,onChange:s=>{r(s.target.value),c(1)},placeholder:"ค้นหาหัวข้อ/แท็ก",className:"w-full bg-transparent outline-none placeholder:text-white/60"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"hidden items-center gap-1 rounded-2xl border border-white/10 bg-white/5 px-3 py-1 text-xs md:inline-flex",children:[e.jsx(S,{className:"h-3.5 w-3.5"})," หมวดหมู่"]}),M.map(s=>e.jsx("button",{onClick:()=>{f(s),c(1)},className:`inline-flex items-center gap-2 rounded-2xl border px-3 py-1 text-sm ${n===s?"border-white/30 bg-white/15":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:s},s))]})]})})]})}),e.jsxs(u,{aurora:!0,angleTop:!0,angleBottom:!0,className:"py-16",children:[g.length===0?e.jsx("div",{className:"text-center opacity-80",children:"ยังไม่มีบทความที่ตรงกับเงื่อนไข"}):e.jsx("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:g.map(s=>e.jsx(L,{p:s},s.slug))}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-sm",children:[e.jsx("button",{disabled:l===1,onClick:()=>c(s=>Math.max(1,s-1)),className:"rounded-xl border border-white/10 bg-white/5 px-3 py-1 disabled:opacity-40",children:"ก่อนหน้า"}),e.jsxs("span",{className:"opacity-80",children:["หน้า ",l," / ",d]}),e.jsx("button",{disabled:l===d,onClick:()=>c(s=>Math.min(d,s+1)),className:"rounded-xl border border-white/10 bg-white/5 px-3 py-1 disabled:opacity-40",children:"ถัดไป"})]})]})]})}export{B as default};
